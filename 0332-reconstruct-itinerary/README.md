This has a clever solution which I had to look at and copy after submitting a less optimal solution.

The naive solution is to essentially try all possible itinerary options, preferring the lexicographical first options.

But we can do better by leveraging two facts:
1. There is definitely a solution
2. The preferred solution will be the lexicographical first solution

This seems to "cheese" the problem
